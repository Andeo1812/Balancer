# Balancer

Данный проект создан для ознакомления с работой балансировщиков

## Окружение

* Nginx выступает в роли балансировщика
* Сервис-монолит на Go
* Метрики собираются Prometheus
* Мониторинг на Grafana
* [Фреймворк]((https://github.com/wg/wrk)) нагрузочного тестирования

## Сценарий

1. Поднимаем Nginx, Prometheus, Grafana
2. Запускаем сервис на 3 "подах"
3. Запускаем нагрузочное тестирование с одной частотой
4. Смотрим на дашбордах распределение загрузки под действием нагрузки
5. "Тушим" 1 "под"
6. Смотрим новое распределение нагрузки

## Команды для запуска

### Запуск сервиса:
Важно предварительно установить переменную окружения POD_UUID 

```bash
make build-app
make run-app
```

### Остановки всей инфры машины:

```bash
make stop
```